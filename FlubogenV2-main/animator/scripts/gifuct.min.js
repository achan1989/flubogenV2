gifuct=new function(){const e=(e,r)=>{const t=Array(e.length),n=e.length/r,o=function(n,o){const a=e.slice(o*r,(o+1)*r)
t.splice.apply(t,[n*r,r].concat(a))},a=[0,4,2,1],i=[8,8,4,2]
for(var s=0,c=0;4>c;c++)for(var d=a[c];n>d;d+=i[c]){o(d,s)
s++}return t},r=(e,r,t)=>{const n=4096,o=-1,a=t
var i,s,c,d,l,p,f,g,u,h
const x=Array(t),y=Array(n),m=Array(n),v=Array(n+1)
l=1+(s=1<<(h=e))
i=s+2
f=o
c=(1<<(d=h+1))-1
for(g=0;s>g;g++){y[g]=0
m[g]=g}var b,w,A,z,k,C
b=w=A=z=k=C=0
for(u=0;a>u;){if(0===z){if(d>w){b+=r[C]<<w
w+=8
C++
continue}g=b&c
b>>=d
w-=d
if(g>i||g==l)break
if(g==s){c=(1<<(d=h+1))-1
i=s+2
f=o
continue}if(f==o){v[z++]=m[g]
f=g
A=g
continue}p=g
if(g==i){v[z++]=A
g=f}for(;g>s;){v[z++]=m[g]
g=y[g]}A=255&m[g]
v[z++]=A
if(n>i){y[i]=f
m[i]=A
if(0==(++i&c)&&n>i){d++
c+=i}}f=p}z--
x[k++]=v[z]
u++}for(u=k;a>u;u++)x[u]=0
return x},t=(e,r,n={},o=n)=>{if(Array.isArray(r))r.forEach(r=>t(e,r,n,o))
else if('function'==typeof r)r(e,n,o,t)
else{const a=Object.keys(r)[0]
if(Array.isArray(r[a])){o[a]={}
t(e,r[a],n,o[a])}else o[a]=r[a](e,n,o,t)}return n},n=(e,r)=>(t,n,o,a)=>{r(t,n,o)&&a(t,e,n,o)},o=(e,r)=>(t,n,o,a)=>{const i=[]
for(;r(t,n,o);){const r={}
a(t,e,n,r)
i.push(r)}return i},a=e=>({data:e,pos:0}),i=()=>e=>e.data[e.pos++],s=(e=0)=>r=>r.data[r.pos+e],c=e=>r=>r.data.subarray(r.pos,r.pos+=e),d=e=>r=>r.data.subarray(r.pos,r.pos+e),l=e=>r=>Array.from(c(e)(r)).map(e=>String.fromCharCode(e)).join(''),p=e=>r=>{const t=c(2)(r)
return e?(t[1]<<8)+t[0]:(t[0]<<8)+t[1]},f=(e,r)=>(t,n,o)=>{const a='function'==typeof r?r(t,n,o):r,i=c(e),s=Array(a)
for(var d=0;a>d;d++)s[d]=i(t)
return s},g=(e,r,t)=>{for(var n=0,o=0;t>o;o++)n+=e[r+o]&&2**(t-o-1)
return n},u=e=>r=>{const t=i()(r),n=Array(8)
for(var o=0;8>o;o++)n[7-o]=!!(t&1<<o)
return Object.keys(e).reduce((r,t)=>{const o=e[t]
o.length?r[t]=g(n,o.index,o.length):r[t]=n[o.index]
return r},{})}
var h={blocks:e=>{const r=0,t=[]
for(var n=0,o=i()(e);o!==r;o=i()(e)){t.push(c(o)(e))
n+=o}const a=new Uint8Array(n)
for(var s=0,d=0;d<t.length;d++){a.set(t[d],s)
s+=t[d].length}return a}}
const x=n({gce:[{codes:c(2)},{byteSize:i()},{extras:u({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:p(!0)},{transparentColorIndex:i()},{terminator:i()}]},e=>{var r=d(2)(e)
return 33===r[0]&&249===r[1]}),y=n({image:[{code:i()},{descriptor:[{left:p(!0)},{top:p(!0)},{width:p(!0)},{height:p(!0)},{lct:u({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},n({lct:f(3,(e,r,t)=>Math.pow(2,t.descriptor.lct.size+1))},(e,r,t)=>t.descriptor.lct.exists),{data:[{minCodeSize:i()},h]}]},e=>44===s()(e)),m=n({text:[{codes:c(2)},{blockSize:i()},{preData:(e,r,t)=>c(t.text.blockSize)(e)},h]},e=>{var r=d(2)(e)
return 33===r[0]&&1===r[1]}),v=n({application:[{codes:c(2)},{blockSize:i()},{id:(e,r,t)=>l(t.blockSize)(e)},h]},e=>{var r=d(2)(e)
return 33===r[0]&&255===r[1]}),b=n({comment:[{codes:c(2)},h]},e=>{var r=d(2)(e)
return 33===r[0]&&254===r[1]}),w=[{header:[{signature:l(3)},{version:l(3)}]},{lsd:[{width:p(!0)},{height:p(!0)},{gct:u({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:i()},{pixelAspectRatio:i()}]},n({gct:f(3,(e,r)=>Math.pow(2,r.lsd.gct.size+1))},(e,r)=>r.lsd.gct.exists),{frames:o([x,v,b,y,m],e=>{var r=s()(e)
return 33===r||44===r})}]
var A=e=>{const r=new Uint8Array(e)
return t(a(r),w)}
const z=e=>{const r=e.pixels.length,t=new Uint8ClampedArray(4*r)
for(var n=0;r>n;n++){const r=4*n,o=e.pixels[n],a=e.colorTable[o]
t[r]=a[0]
t[r+1]=a[1]
t[r+2]=a[2]
t[r+3]=o!==e.transparentIndex?255:0}return t}
var k=(t,n,o)=>{if(!t.image){console.warn('gif frame does not have associated image.')
return}const{image:a}=t,i=a.descriptor.width*a.descriptor.height
var s=r(a.data.minCodeSize,a.data.blocks,i)
a.descriptor.lct.interlaced&&(s=e(s,a.descriptor.width))
const c={pixels:s,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}}
a.descriptor.lct&&a.descriptor.lct.exists?c.colorTable=a.lct:c.colorTable=n
if(t.gce){c.delay=10*(t.gce.delay||10)
c.disposalType=t.gce.extras.disposal
t.gce.extras.transparentColorGiven&&(c.transparentIndex=t.gce.transparentColorIndex)}o&&(c.patch=z(c))
return c},C=(e,r)=>e.frames.filter(e=>e.image).map(t=>k(t,e.gct,r))
for(var[S,I]of Object.entries({parseGIF:A,decompressFrame:k,decompressFrames:C})){Object.defineProperty(I,'name',{value:S})
window.hasOwnProperty(S)||(window[S]=I)}}